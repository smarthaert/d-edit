{ Основная программа - драйвер тестирования }
uses List; { Подключаем модуль }

{ Драйвер тестирования модуля должен позволять тестировать
 все его функции в любом порядке и любое число раз, а так же иметь простой
  и понятный интерфейс }
var Root : PBox; { Указатель на первый элемент нашего списка }
  V : integer; { Выбранное пользователем действие }
  Value : integer; { Значение элемента для действия }
  NewValue : integer; { Новое значение элемента }
begin
  Root := nil; { Сначала список пустой }
  repeat
    { Каждый раз выводим список }
    Show(Root);
    writeln('Выберите действие:');
    writeln('  1. Вставить элемент перед последним элементом');
    writeln('  2. Заменить значение первого по порядку элемента с заданным значением');
    writeln('  3. Удалить последний по порядку элемент с заданным значением');
    writeln('  4. Найти номер первого элемента с заданным значением');
    writeln('  5. Упорядочить список');
    writeln('  0. Выйти из программы');
    writeln;
    write('Что сделать: '); readln(V);
    writeln;
    case V of
      1: begin
        write('Значение элемента для вставки: '); readln(Value);
        AddElement(Root,Value);
       end;
      2: begin
        write('Значение элемента для замены: '); readln(Value);
        write('Новое значение элемента: '); readln(NewValue);
        ReplaceValue(Root,Value,NewValue);
       end;
      3: begin
        write('Значение элемента для удаления: '); readln(Value);
        DeleteValue(Root,Value);
       end;
      4: begin
        write('Значение элемента для поиска: '); readln(Value);
        writeln('Его номер: ',FindValue(Root,Value));
       end;
      5: { Просто вызываем процедуру сортировки }
        SortList(Root);
    end;
  until V = 0;
end.